==Introduction==
:''Proovread'' is a de novo corrector, using a DeBruijn graph constructed from long reads.

Website : https://github.com/BioInf-Wuerzburg/proovread

==Installation==
:''Proovread'' is available on Linux and require NCBI Blast-2.2.24+, samtools-1.1+, Perl 5.10.1+ and the perl moduls Log::Log4perl and File::Which.


Code source compilation:

    $ git clone --recursive https://github.com/BioInf-Wuerzburg/proovread
    $ cd proovread/util/bwa 
    $ make 

==Input data==
:In order to not overload the processor and memory, it is advisable to divide the long reads data (FASTA, FASTQ) into several files:


    $ SeqChunker -s 20M -o 0%03d pacbio_file

:<b>s</b>: file length to create
:<b>o</b>: output file name

==Pipeline==
:Start the long reads correction with the binary "proovread", located in the folder "bin", on all the folders created in the previous step:

        $ for i in {0001..000n}; do proovread -l $i -s /Path/to/short_reads â€“pre pb_$i; done

:<b>n</b> : Number of files generated by SeqChunker
:<b>l</b> : raw noisy long reads
:<b>s</b> : file containing accurate short reads
:<b>pre</b> : prefix used to name output file.

It is also possible to add unitigs with the argument "-unitigs".

''Proovread'' corrects long reads in 2 steps:
The mapping of short reads on long reads is done by ''SHRIMP2'', adapting the score model, considering that insertions are more frequent than deletions and that substitutions are very rare. ''Bowtie2'' and ''bwa mem'' are also supported.
A consensus sequence is deduced from previous step alignments.

==Output data==
:The corrected sequences are in the specified output folder (trimmed and untrimmed reads)

==Correction evaluation==
:Dataset:

{| class="wikitable"
|-
!Reference genome
|Escherichia coli k-12 MG1655 1 chromosome (4 641 652 pb)
|-
!Pacbio reads (P6C4)
|87497 raw reads (100x coverage)
|-
!Illumina reads (MiSeq)
|16759877 reads (2x150pb)
|}

The reference genome is used to evaluate long reads correction, based on metrics produced by Blasr alignments before the assembly and by the QUAST software after the assembly.

''Blasr'' alignment metrics:

:<b>Size</b>: The sum of the length of the corrected long reads, divided by the length of uncorrected long reads.

:<b>Execution time</b>: Corrector execution time.

:<b>% mapped region</b>: Proportion of corrected reads that \emph{BLASR} succeeded in mapping to the reference genome.

:<b>Mean number of match</b>:  The average number of match per long read.

:<b>% identity</b>: Percentage of identity given by \emph{BLASR} for the region of long read that could be aligned.

''Quast'' metrics:

:<b># contigs (> 1000pb)</b>: Total number of contigs exceeding 1000 bp after assembly.

:<b>Total length</b>: Assembly length.

:<b>N50</b>: Length for which the collection of all contigs of this length or greater, covers at least half of the assembly.

:<b>Genome fraction (\%)</b>: the percentage of aligned bases in the reference genome.

The assembly step is performed by ''Smartdenovo''.

{| class="wikitable"
|-
!Metrics (Blasr, Quast)
!colspan="6"|Proovread correction
|-
!
|trimmed read
|untrimmed reads
|-
!Size
|70.05
|80.79
|-
!Execution time
|161 940s
|161 940s
|-
!% mapped region
|99.16
|94.02
|-
!Mean number of match
|6 580
|9 221
|-
!% identity
|99.83
|99.08
|-
!# contigs (>=1000pb)
|1
|1
|-
!N50
|4 661 248
|4 661 248
|-
!Total length
|4 661 248
|4 686 321
|-
!genome fraction
|99.98
|99.30
|}

More assembly results can be found at

