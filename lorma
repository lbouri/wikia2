==Introduction==
:''LoRMA'' is a de novo corrector using a DeBruijn graph constructed from long reads to correct themselves.

Website : https://www.cs.helsinki.fi/u/lmsalmel/LoRMA/

==Installation==
:''LoRMA'' is available on Linux and requires Cmake 2.6+, GCC 4.7+ and Lordec.

Import ''LoRDEC'' and the GATB library:

    $ wget http://www.atgc-montpellier.fr/download/sources/lordec/LoRDEC-0.6.tar.gz
    $ tar zxvf LoRDEC-0.6.tar.gz
    $ cd LoRDEC-0.6
    $ wget https://github.com/GATB/gatb-core/releases/download/v1.1.0/gatb-core-1.1.0-bin-Linux.tar.gz
    $ tar zxvf gatb-core-1.1.0-bin-Linux.tar.gz

Modify the GATB_VER variable from Makefile (1.1.0 here)

Install ''LoRDEC'':

    $ make
    $ cd ..

Install ''loRMA'':

    $ wget https://www.cs.helsinki.fi/u/lmsalmel/LoRMA/LoRMA-0.3.tar.gz
    $ tar zxvf LoRMA-0.3.tar.gz
    $ cd LoRMA-0.3
    $ mkdir build
    $ cd build
    $ cmake ..
    $ make
        

Change the LORDECDIR variable in the lorma.sh file to specify the path to the ''LoRDEC'' installation folder.

==Input data==
:''LoRMA'' takes long reads in a FASTA or FASTQ file format as input.

==Pipeline==
:''LoRMA'' software correct long reads in two steps:


:*Iterative construction of a Debruijn graph from long reads, with an increasing value of the kmer size. Each node in the graph represents genomic kmer, selected according to their abundance in the dataset of long reads. For each long read, identify possible paths in the graph between the solid kmer and then select the best path. Correct the regions of the long read.
:*Finally, use the graph to identify similar reads. Align these reads 1 to 1 in order to build a consensus.

==Output data==
:The corrected sequences are located in a file named "final.fasta"

==Correction evaluation==
:Dataset:

{| class="wikitable"
|-
!Reference genome
|Escherichia coli k-12 MG1655 1 chromosome (4 641 652 pb)
|-
!Pacbio reads (P6C4)
|87497 raw reads (100x coverage)
|-
!Illumina reads (MiSeq)
|16759877 reads (2x150pb)
|}

The reference genome is used to evaluate long reads correction, based on metrics produced by Blasr alignments before the assembly and by the QUAST software after the assembly.

''Blasr'' alignment metrics:

:<b>Size</b>: The sum of the length of the corrected long reads, divided by the length of uncorrected long reads.

:<b>Execution time</b>: Corrector execution time.

:<b>% mapped region</b>: Proportion of corrected reads that \emph{BLASR} succeeded in mapping to the reference genome.

:<b>Mean number of match</b>:  The average number of match per long read.

:<b>% identity</b>: Percentage of identity given by \emph{BLASR} for the region of long read that could be aligned.

''Quast'' metrics:

:<b># contigs (> 1000pb)</b>: Total number of contigs exceeding 1000 bp after assembly.

:<b>Total length</b>: Assembly length.

:<b>N50</b>: Length for which the collection of all contigs of this length or greater, covers at least half of the assembly.

:<b>Genome fraction (\%)</b>: the percentage of aligned bases in the reference genome.

The assembly step is performed by ''Smartdenovo''.

{| class="wikitable"
|-
!Metrics (Blasr, Quast)
!Lorma correction
|-
!Size
|83.9
|-
!Execution time
|18 923s
|-
!% mapped region
|99.8
|-
!Mean number of match
|1 351
|-
!% identity
|99.71
|-
!# contigs (>=1000pb)
|27
|-
!N50
|306 808
|-
!Total length
|4 597 457
|-
!Genome fraction
|98.9
|}

More assembly results can be found at

